autoload_functions () {
  local f;

  for f in `find $FUNCTIONS_DIR/* -type f -executable`; do
    local fname=`basename $f`
    eval "
      $fname () {
        eval \"
          $fname () {
            \`cat $f\`
          }
        \"

        $fname \"\$@\"
      }

      typeset -fx $fname
    "
  done
}

autoload_functions
